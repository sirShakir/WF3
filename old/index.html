<!DOCTYPE html>
<html>
<head>
  <title>A Meaningful Page Title</title>

  
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.12.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.12.0/mapbox-gl.css' rel='stylesheet' />

</head>
<body>


    <div id='map' style='width: 400px; height: 300px;'></div>
    <script>
    // TO MAKE THE MAP APPEAR YOU MUST
    // ADD YOUR ACCESS TOKEN FROM
    // https://account.mapbox.com

 
    fetch("http://localhost:3000/places/All")
    .then(response => {
        // indicates whether the response is successful (status code 200-299) or not
        if (!response.ok) {
        throw new Error(`Request failed with status ${reponse.status}`)
        }
        return response.json()
    })
    .then(data => {
        console.log(data)
        //'pk.eyJ1IjoibWFwYm94LW1hcC1kZXNpZ24iLCJhIjoiY2syeHpiaHlrMDJvODNidDR5azU5NWcwdiJ9.x0uSqSWGXdoFKuHZC5Eo_Q'
        mapboxgl.accessToken = 'pk.eyJ1IjoibWFwYm94LW1hcC1kZXNpZ24iLCJhIjoiY2syeHpiaHlrMDJvODNidDR5azU5NWcwdiJ9.x0uSqSWGXdoFKuHZC5Eo_Q';
        const map = new mapboxgl.Map({
        container: 'map', // container ID
        style: 'mapbox://styles/mapbox/streets-v12', // style URL
        center: [-74.5, 40], // starting position [lng, lat]
        zoom: 9, // starting zoom
    });
    })
    .catch(error => console.log(error))
    </script>

</body>
</html>